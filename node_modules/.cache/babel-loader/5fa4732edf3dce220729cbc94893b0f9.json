{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _slicedToArray from \"C:/Users/junecsnp/Desktop/JuneWeb+Shoe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _regeneratorRuntime from \"C:/Users/junecsnp/Desktop/JuneWeb+Shoe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/Users/junecsnp/Desktop/JuneWeb+Shoe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\junecsnp\\\\Desktop\\\\JuneWeb+Shoe\\\\src\\\\components\\\\Signup.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport firebase from \"firebase\";\nimport StyleFirebaseAuth from \"react-firebaseui/StyledFirebaseAuth\";\nvar uiConfig = {\n  signInFlow: \"popup\",\n  signInOptions: [firebase.auth.EmailAuthProvider.PROVIDER_ID, firebase.auth.GoogleAuthProvider.PROVIDER_ID],\n  callbacks: {\n    signInSuccessWithAuthResult: function () {\n      var _signInSuccessWithAuthResult = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(authResult) {\n        var userInfo;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              userInfo = authResult.additionalUserInfo;\n\n              if (!(userInfo.isNewUser && userInfo.providerId === \"password\")) {\n                _context.next = 11;\n                break;\n              }\n\n              _context.prev = 2;\n              _context.next = 5;\n              return authResult.user.sendEmailVerification();\n\n            case 5:\n              console.log(\"Check your email.\");\n              _context.next = 11;\n              break;\n\n            case 8:\n              _context.prev = 8;\n              _context.t0 = _context[\"catch\"](2);\n              console.log(_context.t0);\n\n            case 11:\n              return _context.abrupt(\"return\", false);\n\n            case 12:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, null, [[2, 8]]);\n      }));\n\n      function signInSuccessWithAuthResult(_x) {\n        return _signInSuccessWithAuthResult.apply(this, arguments);\n      }\n\n      return signInSuccessWithAuthResult;\n    }()\n  }\n};\n\nconst signOut = () => {\n  firebase.auth().signOut().then(function () {\n    console.log(\"Successufully Signed out\");\n  }).catch(function () {\n    console.log(\"Error Signed out\");\n  });\n};\n\nconst Signup = () => {\n  _s();\n\n  const _useState = useState(null),\n        _useState2 = _slicedToArray(_useState, 2),\n        user = _useState2[0],\n        setUser = _useState2[1];\n\n  useEffect(() => {\n    const user = firebase.auth().currentUser;\n    const authObserver = firebase.auth().onAuthStateChanged(user => {\n      setUser(user);\n    });\n    return authObserver;\n  });\n  console.log(\"user\", user);\n\n  if (user) {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Welcome, \", user.displayName, \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 39\n        }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n          children: user.email\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 39\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: signOut,\n          children: \"Sign out\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this)\n    }, void 0, false);\n  } else {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Sign up / Register\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(StyleFirebaseAuth, {\n        uiConfig: uiConfig,\n        firebaseAuth: firebase.auth()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true);\n  }\n};\n\n_s(Signup, \"5s2qRsV95gTJBmaaTh11GoxYeGE=\");\n\n_c = Signup;\nexport default Signup;\n\nvar _c;\n\n$RefreshReg$(_c, \"Signup\");","map":{"version":3,"sources":["C:/Users/junecsnp/Desktop/JuneWeb+Shoe/src/components/Signup.js"],"names":["React","useState","useEffect","firebase","StyleFirebaseAuth","uiConfig","signInFlow","signInOptions","auth","EmailAuthProvider","PROVIDER_ID","GoogleAuthProvider","callbacks","signInSuccessWithAuthResult","authResult","userInfo","additionalUserInfo","isNewUser","providerId","user","sendEmailVerification","console","log","signOut","then","catch","Signup","setUser","currentUser","authObserver","onAuthStateChanged","displayName","email"],"mappings":";;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,QAAP,MAAqB,UAArB;AACA,OAAOC,iBAAP,MAA8B,qCAA9B;AAEA,IAAIC,QAAQ,GAAG;AACbC,EAAAA,UAAU,EAAE,OADC;AAEbC,EAAAA,aAAa,EAAE,CACbJ,QAAQ,CAACK,IAAT,CAAcC,iBAAd,CAAgCC,WADnB,EAEbP,QAAQ,CAACK,IAAT,CAAcG,kBAAd,CAAiCD,WAFpB,CAFF;AAMbE,EAAAA,SAAS,EAAE;AACTC,IAAAA,2BAA2B;AAAA,kGAAE,iBAAOC,UAAP;AAAA;AAAA;AAAA;AAAA;AACrBC,cAAAA,QADqB,GACVD,UAAU,CAACE,kBADD;;AAAA,oBAEvBD,QAAQ,CAACE,SAAT,IAAsBF,QAAQ,CAACG,UAAT,KAAwB,UAFvB;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,qBAIjBJ,UAAU,CAACK,IAAX,CAAgBC,qBAAhB,EAJiB;;AAAA;AAKvBC,cAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ;AALuB;AAAA;;AAAA;AAAA;AAAA;AAOvBD,cAAAA,OAAO,CAACC,GAAR;;AAPuB;AAAA,+CAUpB,KAVoB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAF;;AAAA;AAAA;AAAA;;AAAA;AAAA;AADlB;AANE,CAAf;;AAsBA,MAAMC,OAAO,GAAG,MAAM;AACpBpB,EAAAA,QAAQ,CACLK,IADH,GAEGe,OAFH,GAGGC,IAHH,CAGQ,YAAY;AAChBH,IAAAA,OAAO,CAACC,GAAR,CAAY,0BAAZ;AACD,GALH,EAMGG,KANH,CAMS,YAAY;AACjBJ,IAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ;AACD,GARH;AASD,CAVD;;AAYA,MAAMI,MAAM,GAAG,MAAM;AAAA;;AAAA,oBACKzB,QAAQ,CAAC,IAAD,CADb;AAAA;AAAA,QACZkB,IADY;AAAA,QACNQ,OADM;;AAGnBzB,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMiB,IAAI,GAAGhB,QAAQ,CAACK,IAAT,GAAgBoB,WAA7B;AACA,UAAMC,YAAY,GAAG1B,QAAQ,CAACK,IAAT,GAAgBsB,kBAAhB,CAAoCX,IAAD,IAAU;AAChEQ,MAAAA,OAAO,CAACR,IAAD,CAAP;AACD,KAFoB,CAArB;AAGA,WAAOU,YAAP;AACD,GANQ,CAAT;AAQAR,EAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAoBH,IAApB;;AAEA,MAAIA,IAAJ,EAAU;AACR,wBACE;AAAA,6BACE;AAAA,gCACYA,IAAI,CAACY,WADjB,oBAC8B;AAAA;AAAA;AAAA;AAAA,gBAD9B,eAEE;AAAA,oBAAQZ,IAAI,CAACa;AAAb;AAAA;AAAA;AAAA;AAAA,gBAFF,oBAE8B;AAAA;AAAA;AAAA;AAAA,gBAF9B,eAGE;AAAQ,UAAA,OAAO,EAAET,OAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAHF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF,qBADF;AASD,GAVD,MAUO;AACL,wBACE;AAAA,8BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAEE,QAAC,iBAAD;AAAmB,QAAA,QAAQ,EAAElB,QAA7B;AAAuC,QAAA,YAAY,EAAEF,QAAQ,CAACK,IAAT;AAArD;AAAA;AAAA;AAAA;AAAA,cAFF;AAAA,oBADF;AAMD;AACF,CA/BD;;GAAMkB,M;;KAAAA,M;AAiCN,eAAeA,MAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport firebase from \"firebase\";\r\nimport StyleFirebaseAuth from \"react-firebaseui/StyledFirebaseAuth\";\r\n\r\nvar uiConfig = {\r\n  signInFlow: \"popup\",\r\n  signInOptions: [\r\n    firebase.auth.EmailAuthProvider.PROVIDER_ID,\r\n    firebase.auth.GoogleAuthProvider.PROVIDER_ID,\r\n  ],\r\n  callbacks: {\r\n    signInSuccessWithAuthResult: async (authResult) => {\r\n      const userInfo = authResult.additionalUserInfo;\r\n      if (userInfo.isNewUser && userInfo.providerId === \"password\") {\r\n        try {\r\n          await authResult.user.sendEmailVerification();\r\n          console.log(\"Check your email.\");\r\n        } catch (e) {\r\n          console.log(e);\r\n        }\r\n      }\r\n      return false;\r\n    },\r\n  },\r\n};\r\n\r\nconst signOut = () => {\r\n  firebase\r\n    .auth()\r\n    .signOut()\r\n    .then(function () {\r\n      console.log(\"Successufully Signed out\");\r\n    })\r\n    .catch(function () {\r\n      console.log(\"Error Signed out\");\r\n    });\r\n};\r\n\r\nconst Signup = () => {\r\n  const [user, setUser] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const user = firebase.auth().currentUser;\r\n    const authObserver = firebase.auth().onAuthStateChanged((user) => {\r\n      setUser(user);\r\n    });\r\n    return authObserver;\r\n  });\r\n\r\n  console.log(\"user\", user);\r\n\r\n  if (user) {\r\n    return (\r\n      <>\r\n        <p>\r\n          Welcome, {user.displayName} <br />\r\n          <small>{user.email}</small> <br />\r\n          <button onClick={signOut}>Sign out</button>\r\n        </p>\r\n      </>\r\n    );\r\n  } else {\r\n    return (\r\n      <>\r\n        <div>Sign up / Register</div>\r\n        <StyleFirebaseAuth uiConfig={uiConfig} firebaseAuth={firebase.auth()} />\r\n      </>\r\n    );\r\n  }\r\n};\r\n\r\nexport default Signup;\r\n"]},"metadata":{},"sourceType":"module"}