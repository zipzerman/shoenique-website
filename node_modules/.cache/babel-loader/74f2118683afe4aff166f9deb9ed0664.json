{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/junecsnp/Desktop/JuneWeb+Shoe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/Users/junecsnp/Desktop/JuneWeb+Shoe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport firebase from 'firebase/app';\nimport 'firebase/firestore';\nimport \"firebase/auth\";\nvar firebaseConfig = firebase.initializeApp({\n  apiKey: \"AIzaSyBmW8Uxg2zrN-l8srPpURjRW7yEw2AhbXw\",\n  authDomain: \"shoenique-c919c.firebaseapp.com\",\n  projectId: \"shoenique-c919c\",\n  storageBucket: \"shoenique-c919c.appspot.com\",\n  messagingSenderId: \"425250582363\",\n  appId: \"1:425250582363:web:15fe3e1faee5540e8cf47e\",\n  measurementId: \"G-GGTWW8S4CK\"\n});\nexport default firebaseConfig;\nexport var auth = firebase.auth();\nexport var firestore = firebase.firestore();\nexport var createUserDocument = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(user, additionalData) {\n    var userRef, snapshot, email, displayName;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (user) {\n              _context.next = 2;\n              break;\n            }\n\n            return _context.abrupt(\"return\");\n\n          case 2:\n            userRef = firestore.doc(\"users/\".concat(user.uid));\n            _context.next = 5;\n            return userRef.get();\n\n          case 5:\n            snapshot = _context.sent;\n\n            if (snapshot.exists) {\n              _context.next = 17;\n              break;\n            }\n\n            email = user.email;\n            displayName = additionalData.displayName;\n            _context.prev = 9;\n            _context.next = 12;\n            return userRef.set({\n              displayName: displayName,\n              email: email,\n              createdAt: new Date()\n            });\n\n          case 12:\n            _context.next = 17;\n            break;\n\n          case 14:\n            _context.prev = 14;\n            _context.t0 = _context[\"catch\"](9);\n            console.log('Error in creating user', _context.t0);\n\n          case 17:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[9, 14]]);\n  }));\n\n  return function createUserDocument(_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();","map":{"version":3,"sources":["C:/Users/junecsnp/Desktop/JuneWeb+Shoe/src/components/firebase.js"],"names":["firebase","firebaseConfig","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","auth","firestore","createUserDocument","user","additionalData","userRef","doc","uid","get","snapshot","exists","email","displayName","set","createdAt","Date","console","log"],"mappings":";;AAAA,OAAOA,QAAP,MAAqB,cAArB;AACA,OAAO,oBAAP;AACA,OAAO,eAAP;AAEA,IAAMC,cAAc,GAAGD,QAAQ,CAACE,aAAT,CAAuB;AAC1CC,EAAAA,MAAM,EAAE,yCADkC;AAE1CC,EAAAA,UAAU,EAAE,iCAF8B;AAG1CC,EAAAA,SAAS,EAAE,iBAH+B;AAI1CC,EAAAA,aAAa,EAAE,6BAJ2B;AAK1CC,EAAAA,iBAAiB,EAAE,cALuB;AAM1CC,EAAAA,KAAK,EAAE,2CANmC;AAO1CC,EAAAA,aAAa,EAAE;AAP2B,CAAvB,CAAvB;AAUA,eAAeR,cAAf;AAEA,OAAO,IAAMS,IAAI,GAAGV,QAAQ,CAACU,IAAT,EAAb;AACP,OAAO,IAAMC,SAAS,GAAGX,QAAQ,CAACW,SAAT,EAAlB;AAEP,OAAO,IAAMC,kBAAkB;AAAA,sEAAG,iBAAOC,IAAP,EAAaC,cAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAC3BD,IAD2B;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAG1BE,YAAAA,OAH0B,GAGhBJ,SAAS,CAACK,GAAV,iBAAuBH,IAAI,CAACI,GAA5B,EAHgB;AAAA;AAAA,mBAKTF,OAAO,CAACG,GAAR,EALS;;AAAA;AAK1BC,YAAAA,QAL0B;;AAAA,gBAO3BA,QAAQ,CAACC,MAPkB;AAAA;AAAA;AAAA;;AAQtBC,YAAAA,KARsB,GAQZR,IARY,CAQtBQ,KARsB;AAStBC,YAAAA,WATsB,GASNR,cATM,CAStBQ,WATsB;AAAA;AAAA;AAAA,mBAYtBP,OAAO,CAACQ,GAAR,CAAY;AAChBD,cAAAA,WAAW,EAAXA,WADgB;AAEhBD,cAAAA,KAAK,EAALA,KAFgB;AAGhBG,cAAAA,SAAS,EAAE,IAAIC,IAAJ;AAHK,aAAZ,CAZsB;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAkB5BC,YAAAA,OAAO,CAACC,GAAR,CAAY,wBAAZ;;AAlB4B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAlBf,kBAAkB;AAAA;AAAA;AAAA,GAAxB","sourcesContent":["import firebase from 'firebase/app';\r\nimport 'firebase/firestore';\r\nimport \"firebase/auth\";\r\n\r\nconst firebaseConfig = firebase.initializeApp({\r\n    apiKey: \"AIzaSyBmW8Uxg2zrN-l8srPpURjRW7yEw2AhbXw\",\r\n    authDomain: \"shoenique-c919c.firebaseapp.com\",\r\n    projectId: \"shoenique-c919c\",\r\n    storageBucket: \"shoenique-c919c.appspot.com\",\r\n    messagingSenderId: \"425250582363\",\r\n    appId: \"1:425250582363:web:15fe3e1faee5540e8cf47e\",\r\n    measurementId: \"G-GGTWW8S4CK\"\r\n});\r\n\r\nexport default firebaseConfig;\r\n\r\nexport const auth = firebase.auth();\r\nexport const firestore = firebase.firestore();\r\n\r\nexport const createUserDocument = async (user, additionalData) => {\r\n  if (!user) return;\r\n\r\n  const userRef = firestore.doc(`users/${user.uid}`);\r\n\r\n  const snapshot = await userRef.get();\r\n\r\n  if (!snapshot.exists) {\r\n    const { email } = user;\r\n    const { displayName } = additionalData;\r\n\r\n    try {\r\n      await userRef.set({\r\n        displayName,\r\n        email,\r\n        createdAt: new Date(),\r\n      });\r\n    } catch (error) {\r\n      console.log('Error in creating user', error);\r\n    }\r\n  }\r\n};"]},"metadata":{},"sourceType":"module"}