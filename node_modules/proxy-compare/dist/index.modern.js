const t=Symbol(),e=Symbol(),r=Symbol(),n=Object.getPrototypeOf,s=new WeakMap,o=t=>t&&(n(t)===Object.prototype||n(t)===Array.prototype||!!s.get(t)),i=t=>"object"==typeof t&&null!==t,c=n=>{const s={o:n,t:!1,r(t){if(!this.t){let e=this.a.get(this.o);e||(e=new Set,this.a.set(this.o,e)),e.add(t)}},u(){this.t=!0,this.a.delete(this.o)},get(t,e){return e===r?this.o:(this.r(e),l(t[e],this.a,this.c))},has(t,r){return r===e?(this.u(),!0):(this.r(r),r in t)},ownKeys(e){return this.r(t),Reflect.ownKeys(e)}};return Object.isFrozen(n)&&(s.set=s.deleteProperty=()=>!1),s},l=(t,e,s)=>{if(!o(t))return t;const i=t[r]||t;let l=s&&s.get(i);return l||(l=c(i),l.p=new Proxy((t=>Object.isFrozen(t)?Array.isArray(t)?Array.from(t):Object.create(n(t),(t=>{const e=Object.getOwnPropertyDescriptors(t);return Object.values(e).forEach(t=>{t.configurable=!0}),e})(t)):t)(i),l),s&&s.set(i,l)),l.a=e,l.c=s,l.p},u=(t,e)=>{const r=Reflect.ownKeys(t),n=Reflect.ownKeys(e);return r.length!==n.length||r.some((t,e)=>t!==n[e])},h=1,a=2,f=4,y=8,g=(e,r,n,s,o=0)=>{if(Object.is(e,r)&&(!i(e)||0==(2&o)))return!1;if(!i(e)||!i(r))return!0;const c=n.get(e);if(!c)return 0==(1&o);if(s&&0==(2&o)){const t=s.get(e);if(t&&t.n===r)return t.g;s.set(e,{n:r,g:!1})}let l=null;for(const i of c){const c=i===t?u(e,r):g(e[i],r[i],n,s,o>>>2<<2|o>>>2);if(!0!==c&&!1!==c||(l=c),l)break}return null===l&&(l=0==(1&o)),s&&0==(2&o)&&s.set(e,{n:r,g:l}),l},b=t=>!!o(t)&&e in t,p=t=>o(t)&&t[r]||null,O=t=>{s.set(t,!0)},j=(t,e)=>{const r=[],n=(t,s)=>{const o=e.get(t);o?o.forEach(e=>{n(t[e],s?[...s,e]:[e])}):s&&r.push(s)};return n(t),r};export{h as MODE_ASSUME_UNCHANGED_IF_UNAFFECTED,f as MODE_ASSUME_UNCHANGED_IF_UNAFFECTED_IN_DEEP,a as MODE_IGNORE_REF_EQUALITY,y as MODE_IGNORE_REF_EQUALITY_IN_DEEP,j as affectedToPathList,l as createDeepProxy,p as getUntrackedObject,g as isDeepChanged,O as markToTrack,b as trackMemo};
//# sourceMappingURL=index.modern.js.map
